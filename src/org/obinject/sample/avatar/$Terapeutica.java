package org.obinject.sample.avatar; import org.obinject.block.Page; import org.obinject.block.PullPage; import org.obinject.block.PushPage; import org.obinject.device.File; import org.obinject.exception.TransientObjectException; import org.obinject.meta.Entity; import org.obinject.meta.Uuid; import org.obinject.queries.Attribute; import org.obinject.queries.Schema; import org.obinject.storage.BTree; import org.obinject.storage.BTreeEntity; import org.obinject.storage.EntityStructure; import org.obinject.storage.KeyStructure; import org.obinject.storage.Structure; public class $Terapeutica extends Terapeutica implements Entity<$Terapeutica> { protected Uuid uuid; private static Uuid classId; public static Uuid getClassId(){ if ($Terapeutica.classId == null) {$Terapeutica.classId = Uuid.fromString("35A23661-7277-D5FF-6363-6078B7BD7844"); }return $Terapeutica.classId; } public static final BTreeEntity<$Terapeutica> entityStructure = new BTreeEntity<$Terapeutica>(new File("build/classes/org/obinject/sample/avatar/avatar.dbo", 4096)){}; public static final Attribute<java.lang.String> nome = new Attribute<java.lang.String> (){ @Override public java.lang.String valueOfAttribute(Entity entity) { return ((Terapeutica)entity).getNome(); } }; public static final Attribute<Boolean> semente = new Attribute<Boolean> (){ @Override public Boolean valueOfAttribute(Entity entity) { return ((Terapeutica)entity).isSemente(); } }; public $Terapeutica(){ this.uuid = Uuid.generator(); } public $Terapeutica(Terapeutica obj){ this.setNome(obj.getNome()); this.setSemente(obj.isSemente()); this.uuid = Uuid.generator(); } public $Terapeutica(Terapeutica obj, Uuid uuid){ this.setNome(obj.getNome()); this.setSemente(obj.isSemente()); this.uuid = uuid; } public $Terapeutica($Terapeutica obj){ this.setNome(obj.getNome()); this.setSemente(obj.isSemente()); this.uuid = obj.getUuid();; } public $Terapeutica(Uuid uuid){ this.uuid = uuid; } @Override public boolean isEqual($Terapeutica obj) {  return (((this.getNome() == null) && (obj.getNome() == null)) || ((this.getNome() != null) && (obj.getNome() != null) && (this.getNome().equals( obj.getNome())))) && (this.isSemente() == obj.isSemente()); } @Override public Uuid getUuid() { return this.uuid; } @Override public EntityStructure<$Terapeutica> getEntityStructure() { return entityStructure; } @Override public boolean inject(){ Uuid uuidInject = $Terapeutica.find(this); if(uuidInject == null){ $Terapeutica.entityStructure.add(this); UniqueOneArvore.uniqueOneArvoreStructure.add(new UniqueOneArvore(this, this.getUuid())); return true; }else{ this.uuid = uuidInject; return false; } } @Override public boolean reject(){ Uuid uuidReject = $Terapeutica.find(this); if(uuidReject != null){ UniqueOneArvore.uniqueOneArvoreStructure.remove(new UniqueOneArvore(this, this.getUuid())); $Terapeutica.entityStructure.remove(this); return true; }else{ return false; } } @Override public boolean modify(){ Uuid uuidOld = $Terapeutica.find(this); $Terapeutica entityOld = $Terapeutica.entityStructure.find(uuidOld); if(entityOld != null){ UniqueOneArvore uniqueOneArvoreOld = new UniqueOneArvore(entityOld, entityOld.getUuid()); UniqueOneArvore uniqueOneArvoreNew = new UniqueOneArvore(this, entityOld.getUuid()); if(uniqueOneArvoreOld.hasSameKey(uniqueOneArvoreNew)){ $Arvore.uniqueOneArvoreStructure.remove(uniqueOneArvoreOld); $Arvore.uniqueOneArvoreStructure.add(uniqueOneArvoreNew); } this.uuid = uuidOld; $Terapeutica.entityStructure.remove(entityOld); $Terapeutica.entityStructure.add(this); return true; }else{ return false; } } public static Uuid find($Terapeutica entity) { UniqueOneArvore unique = new UniqueOneArvore (entity, entity.getUuid()); return $Arvore.uniqueOneArvoreStructure.find(unique); } @Override public boolean pullEntity(byte[] array, int position) { PullPage pull = new PullPage(array, position); Uuid storedClass = pull.pullUuid(); if ($Terapeutica.classId.equals(storedClass) == true){ uuid = pull.pullUuid(); this.setNome(pull.pullString()); this.setSemente(pull.pullBoolean()); return true; } return false; } @Override public void pushEntity(byte[] array, int position){ PushPage push = new PushPage(array, position); push.pushUuid($Terapeutica.classId); push.pushUuid(uuid); push.pushString(this.getNome()); push.pushBoolean(this.isSemente()); } @Override public int sizeOfEntity() { return Page.sizeOfUuid + Page.sizeOfUuid  + Page.sizeOfString(this.getNome()) + Page.sizeOfBoolean; } static{ nome.getSchemas().add( new Schema<$Terapeutica, UniqueOneArvore, java.lang.String>() { @Override public $Terapeutica newEntity(java.lang.String value) { $Terapeutica obj = new $Terapeutica(); obj.setNome(value); return obj; } @Override public UniqueOneArvore newKey(java.lang.String value) { UniqueOneArvore obj = new UniqueOneArvore(); obj.setNome(value); return obj; } @Override public EntityStructure<$Terapeutica> getEntityStructure() { return $Terapeutica.entityStructure; } @Override public KeyStructure<UniqueOneArvore> getKeyStructure() { return UniqueOneArvore.uniqueOneArvoreStructure; } } ); } } 